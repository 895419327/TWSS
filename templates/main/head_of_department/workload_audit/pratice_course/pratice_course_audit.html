{% load staticfiles %}
{% load myfilters %}
<link rel="stylesheet"
      href={% static "main/head_of_department/workload_audit/pratice_course/pratice_course_audit.css" %}>
<script src={% static "main/head_of_department/workload_audit/pratice_course/pratice_course_audit.js" %}></script>

<div class="pratice_class_audit_content main_interface">

    <div class="content_title">实习/实训课 审核</div>

    <div class="pratice_class_audit_search_bar">
        <div class="pratice_class_audit_search_bar_item">
            <span>学年</span>
            <select>
                <option>2016-2017学年</option>
                <option>2017-2018学年</option>
            </select>
        </div>

        <div class="pratice_class_audit_search_bar_item">
            <span>学期</span>
            <select>
                <option>第一学期</option>
                <option>第二学期</option>
            </select>
        </div>

        <div id="pratice_class_audit_search_button">查询</div>
    </div>

    <table class="pratice_class_audit_table" cellspacing="0">
        <tr>
            <th width="120px">学年/学期</th>
            <th width="200px">课程名</th>
            <th width="150px">课程属性</th>
            <th width="150px">上课班级</th>
            <th width="50px">人数</th>
            <th width="50px">学时</th>
            <th width="50px">学分</th>
            <th width="100px">审核状态</th>
            <th width="100px">操作</th>
        </tr>
        {% if course_list %}
            {% for course in course_list %}
                <tr>
                    {#            <td><input type="checkbox" style="zoom: 1.3"></td>#}
                    <td>
                        <div>{{ course.year }}-{{ course.year | add:1 }}学年</div>
                        <div>第{{ course.semester }}学期</div>
                    </td>
                    <td>
                        <div>{{ course.name }}</div>
                        <div>{{ course.id }}</div>
                    </td>
                    {% if course.attribute == 1 %}
                        <td>市区内认识实习</td>
                    {% elif course.attribute == 2 %}
                        <td>外地认识实习、市区内生产实习</td>
                    {% elif course.attribute == 3 %}
                        <td>外地生产实习、毕业实习、毕业设计(论文)</td>
                    {% endif %}
                    <td>
                        <div>{{ course.classes | get_class_name }}</div>
                    </td>
                    <td>{{ course.student_sum }}</td>
                    <td>{{ course.period }}</td>
                    <td>{{ course.credit }}</td>
                    {% if course.audit_status == 0 %}
                        <td>未审核</td>
                        <td>
                            <button class="pratice_course_audit_pass" id="{{ course.id }}_pass">通过</button>
                            <button class="pratice_course_audit_reject" id="{{ course.id }}_reject">驳回</button>
                        </td>
                    {% elif course.audit_status == 1 %}
                        <td>审核未通过</td>
                        <td></td>
                    {% elif course.audit_status == 2 %}
                        <td>已审核</td>
                        <td>
                            <button class="pratice_course_audit_reject" id="{{ course.id }}_reject">驳回</button>
                        </td>
                    {% endif %}
                </tr>
            {% endfor %}
        {% endif %}

    </table>

</div>

