{% load staticfiles %}
{% load myfilters %}
<link rel="stylesheet"
      href={% static "main/head_of_department/workload_audit/teaching_project/teaching_project_audit.css" %}>
<script src={% static "main/head_of_department/workload_audit/teaching_project/teaching_project_cudit.js" %}></script>

<div class="teaching_project_audit_content main_interface">

    <div class="content_title">本科教学工程项目 审核</div>

    <div class="teaching_project_audit_blur_area">
        <div class="teaching_project_audit_search_bar">
            <form id="teaching_project_audit_search_form" method="post" action="/getpage" name="teaching_project_audit_search"
                  autocomplete="off">
                {% csrf_token %}
                <input type="hidden" name="username" value="{{ user.id }}">
                <input type="hidden" name="requestfor" value="workload_audit_teaching_project">

                <div class="teaching_project_audit_search_bar_item">
                    <span>学年</span>
                    <select name="search_year">
                        {% if year != '所有' %}
                            <option>{{ year }}-{{ year|add:1 }}学年</option>
                        {% endif %}
                        <option>所有</option>
                        <option>2016-2017学年</option>
                        <option>2017-2018学年</option>
                    </select>
                </div>

                <div class="teaching_project_audit_search_bar_item">
                    <span>学期</span>
                    <select name="search_semester">
                        <option>{{ semester }}</option>
                        <option>所有</option>
                        <option>第一学期</option>
                        <option>第二学期</option>
                    </select>
                </div>

                <div class="teaching_project_audit_search_bar_item">
                    <span>审核状态</span>
                    <select name="audit_status">
                        <option>{{ audit_status }}</option>
                        <option>所有</option>
                        <option>未审核</option>
                        <option>审核未通过</option>
                        <option>已审核</option>
                    </select>
                </div>
            </form>

            <div id="teaching_project_audit_search_button">查询</div>
        </div>

        <div class="teaching_project_audit_item">
            <div class="teaching_project_audit_item_title">专业、团队及实验中心类</div>

            <table class="teaching_project_audit_item_table" cellspacing="0">
                <tr>
                    <th width="120px">学年/学期</th>
                    <th width="300px">项目名称</th>
                    <th width="60px">教师</th>
                    <th width="150px">级别</th>
                    <th width="100px">审核状态</th>
                    <th width="100px">操作</th>
                </tr>

                {% if project_list %}
                    {% for project in project_list %}
                        {% if project.type == '专业、团队及实验中心类' %}
                            <tr>
                                <td>
                                    <div>{{ project.year }}-{{ project.year|add:1 }}学年</div>
                                    <div>第{{ project.semester|itoc }}学期</div>
                                </td>
                                <td>{{ project.name }}</td>
                                <td>
                                    <div>{{ project.teacher.name }}</div>
                                    <div>{{ project.teacher.id }}</div>
                                </td>
                                <td>{{ project.level }}</td>

                                {% if project.audit_status == 0 %}
                                    <td>未审核</td>
                                    <td>
                                        <button class="teaching_project_audit_pass" id="{{ project.id }}_pass">通过
                                        </button>
                                        <button class="teaching_project_audit_reject" id="{{ project.id }}_reject">驳回
                                        </button>
                                    </td>
                                {% elif project.audit_status == 1 %}
                                    <td>审核未通过</td>
                                    <td>
                                        <button class="teaching_project_audit_pass" id="{{ project.id }}_pass">通过
                                        </button>
                                    </td>
                                {% elif project.audit_status == 2 %}
                                    <td>已审核</td>
                                    <td>
                                        <button class="teaching_project_audit_reject" id="{{ project.id }}_reject">驳回
                                        </button>
                                    </td>
                                {% endif %}
                            </tr>
                        {% endif %}
                    {% endfor %}
                {% endif %}
            </table>
        </div>
    </div>


    <div class="teaching_project_audit_item">
        <div class="teaching_project_audit_item_title">课程类</div>

        <table class="teaching_project_audit_item_table" cellspacing="0">
            <tr>
                <th width="120px">学年/学期</th>
                <th width="300px">项目名称</th>
                <th width="60px">教师</th>
                <th width="150px">级别</th>
                <th width="100px">审核状态</th>
                <th width="100px">操作</th>
            </tr>

            {% if project_list %}
                {% for project in project_list %}
                    {% if project.type == '课程类' %}
                        <tr>
                            <td>
                                <div>{{ project.year }}-{{ project.year|add:1 }}学年</div>
                                <div>第{{ project.semester|itoc }}学期</div>
                            </td>
                            <td>{{ project.name }}</td>
                            <td>
                                <div>{{ project.teacher.name }}</div>
                                <div>{{ project.teacher.id }}</div>
                            </td>
                            <td>{{ project.level }}</td>

                            {% if project.audit_status == 0 %}
                                <td>未审核</td>
                                <td>
                                    <button class="teaching_project_audit_pass" id="{{ project.id }}_pass">通过
                                    </button>
                                    <button class="teaching_project_audit_reject" id="{{ project.id }}_reject">驳回
                                    </button>
                                </td>
                            {% elif project.audit_status == 1 %}
                                <td>审核未通过</td>
                                <td>
                                    <button class="teaching_project_audit_pass" id="{{ project.id }}_pass">通过
                                    </button>
                                </td>
                            {% elif project.audit_status == 2 %}
                                <td>已审核</td>
                                <td>
                                    <button class="teaching_project_audit_reject" id="{{ project.id }}_reject">驳回
                                    </button>
                                </td>
                            {% endif %}
                        </tr>
                    {% endif %}
                {% endfor %}
            {% endif %}
        </table>
    </div>

    <div class="teaching_project_audit_item">
        <div class="teaching_project_audit_item_title">工程实践教育类</div>

        <table class="teaching_project_audit_item_table" cellspacing="0">
            <tr>
                <th width="120px">学年/学期</th>
                <th width="300px">项目名称</th>
                <th width="60px">教师</th>
                <th width="150px">级别</th>
                <th width="100px">审核状态</th>
                <th width="100px">操作</th>
            </tr>

            {% if project_list %}
                {% for project in project_list %}
                    {% if project.type == '工程实践教育类' %}
                        <tr>
                            <td>
                                <div>{{ project.year }}-{{ project.year|add:1 }}学年</div>
                                <div>第{{ project.semester|itoc }}学期</div>
                            </td>
                            <td>{{ project.name }}</td>
                            <td>
                                <div>{{ project.teacher.name }}</div>
                                <div>{{ project.teacher.id }}</div>
                            </td>
                            <td>{{ project.level }}</td>

                            {% if project.audit_status == 0 %}
                                <td>未审核</td>
                                <td>
                                    <button class="teaching_project_audit_pass" id="{{ project.id }}_pass">通过
                                    </button>
                                    <button class="teaching_project_audit_reject" id="{{ project.id }}_reject">驳回
                                    </button>
                                </td>
                            {% elif project.audit_status == 1 %}
                                <td>审核未通过</td>
                                <td>
                                    <button class="teaching_project_audit_pass" id="{{ project.id }}_pass">通过
                                    </button>
                                </td>
                            {% elif project.audit_status == 2 %}
                                <td>已审核</td>
                                <td>
                                    <button class="teaching_project_audit_reject" id="{{ project.id }}_reject">驳回
                                    </button>
                                </td>
                            {% endif %}
                        </tr>
                    {% endif %}
                {% endfor %}
            {% endif %}
        </table>
    </div>

    <div class="teaching_project_audit_item">
        <div class="teaching_project_audit_item_title">教学名师</div>

        <table class="teaching_project_audit_item_table" cellspacing="0">
            <tr>
                <th width="120px">学年/学期</th>
                <th width="300px">项目名称</th>
                <th width="60px">教师</th>
                <th width="150px">级别</th>
                <th width="100px">审核状态</th>
                <th width="100px">操作</th>
            </tr>

            {% if project_list %}
                {% for project in project_list %}
                    {% if project.type == '教学名师' %}
                        <tr>
                            <td>
                                <div>{{ project.year }}-{{ project.year|add:1 }}学年</div>
                                <div>第{{ project.semester|itoc }}学期</div>
                            </td>
                            <td>{{ project.name }}</td>
                            <td>
                                <div>{{ project.teacher.name }}</div>
                                <div>{{ project.teacher.id }}</div>
                            </td>
                            <td>{{ project.level }}</td>

                            {% if project.audit_status == 0 %}
                                <td>未审核</td>
                                <td>
                                    <button class="teaching_project_audit_pass" id="{{ project.id }}_pass">通过
                                    </button>
                                    <button class="teaching_project_audit_reject" id="{{ project.id }}_reject">驳回
                                    </button>
                                </td>
                            {% elif project.audit_status == 1 %}
                                <td>审核未通过</td>
                                <td>
                                    <button class="teaching_project_audit_pass" id="{{ project.id }}_pass">通过
                                    </button>
                                </td>
                            {% elif project.audit_status == 2 %}
                                <td>已审核</td>
                                <td>
                                    <button class="teaching_project_audit_reject" id="{{ project.id }}_reject">驳回
                                    </button>
                                </td>
                            {% endif %}
                        </tr>
                    {% endif %}
                {% endfor %}
            {% endif %}
        </table>
    </div>

    <div class="teaching_project_audit_item">
        <div class="teaching_project_audit_item_title">大学生创新创业训练</div>

        <table class="teaching_project_audit_item_table" cellspacing="0">
            <tr>
                <th width="120px">学年/学期</th>
                <th width="300px">项目名称</th>
                <th width="60px">教师</th>
                <th width="150px">级别</th>
                <th width="100px">审核状态</th>
                <th width="100px">操作</th>
            </tr>

            {% if project_list %}
                {% for project in project_list %}
                    {% if project.type == '大学生创新创业训练' %}
                        <tr>
                            <td>
                                <div>{{ project.year }}-{{ project.year|add:1 }}学年</div>
                                <div>第{{ project.semester|itoc }}学期</div>
                            </td>
                            <td>{{ project.name }}</td>
                            <td>
                                <div>{{ project.teacher.name }}</div>
                                <div>{{ project.teacher.id }}</div>
                            </td>
                            <td>{{ project.level }}</td>

                            {% if project.audit_status == 0 %}
                                <td>未审核</td>
                                <td>
                                    <button class="teaching_project_audit_pass" id="{{ project.id }}_pass">通过
                                    </button>
                                    <button class="teaching_project_audit_reject" id="{{ project.id }}_reject">驳回
                                    </button>
                                </td>
                            {% elif project.audit_status == 1 %}
                                <td>审核未通过</td>
                                <td>
                                    <button class="teaching_project_audit_pass" id="{{ project.id }}_pass">通过
                                    </button>
                                </td>
                            {% elif project.audit_status == 2 %}
                                <td>已审核</td>
                                <td>
                                    <button class="teaching_project_audit_reject" id="{{ project.id }}_reject">驳回
                                    </button>
                                </td>
                            {% endif %}
                        </tr>
                    {% endif %}
                {% endfor %}
            {% endif %}
        </table>
    </div>

</div>